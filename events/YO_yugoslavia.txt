##############################
### MORE YUGOSLAVIA EVENTS ###
##############################

add_namespace = YO_yugoslavia
add_namespace = YO_yugoslavia_collapse

# Attempted Assassination on Milan Stojadinovic
country_event = {
	id = YO_yugoslavia.1
	title = YO_yugoslavia.1.t
	desc = YO_yugoslavia.1.d
	picture = GFX_report_event_generic_parliament

	trigger = {
		tag = YUG
		has_government = neutrality
		has_idea = YUG_yugoslav_regency
		date > 1936.3.4
		date < 1936.3.30
	}
	
	mean_time_to_happen = { days = 5 }

	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.1.a
		ai_chance = {
			factor = 40
		}
		add_stability = 0.05
		hidden_effect = {
			complete_national_focus = YUG_stojadinovic_assassination
			complete_national_focus = YUG_stojadinovic_survives
			set_country_flag = stojadinovic_survives
		}
	}
	
	option = {
		name = YO_yugoslavia.1.b
		ai_chance = {
			factor = 40
		}
		add_stability = -0.1
		kill_country_leader = yes
		set_party_name = { 
			ideology = neutrality
			name = YUG_JRS_neutrality_party
			long_name = YUG_JRS_neutrality_party_long
		}
		create_country_leader = {
			name = "Dragiša Cvetković"
			desc = "POLITICS_MILAN_GROL_DESC"
			picture = "gfx/leaders/YUG/Portrait_YUG_Dragisa_Cvetkovic.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				popular_figurehead2
				YUG_great_architect
			}
		}
		hidden_effect = {
			complete_national_focus = YUG_stojadinovic_assassination
			complete_national_focus = YUG_stojadinovic_assassinated
			set_country_flag = stojadinovic_assassinated
		}
	}
}

#
country_event = {
	id = YO_yugoslavia.2
	title = YO_yugoslavia.2.t
	desc = YO_yugoslavia.2.d
	picture = GFX_report_event_yug_regency

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#
	option = {
		name = YO_yugoslavia.2.a
		ai_chance = {
			factor = 40
		}
		
	}

	#
	option = {
		name = YO_yugoslavia.2.b
		ai_chance = {
			factor = 40
		}
		
	}
}

#Demand Istra and Zadar (istria and zara)
country_event = {
	id = YO_yugoslavia.3
	title = YO_yugoslavia.3.t
	desc = YO_yugoslavia.3.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Give in
	option = {
		name = YO_yugoslavia.3.a
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.4 }
		}
		effect_tooltip = {
			YUG = {
				transfer_state = 163
				transfer_state = 736
			}
		}
	}

	#Deny
	option = {
		name = YO_yugoslavia.3.b
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.5 }
		}
	}
}

#Italy agrees
country_event = {
	id = YO_yugoslavia.4
	title = YO_yugoslavia.4.t
	desc = YO_yugoslavia.4.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Excellent
	option = {
		name = YO_yugoslavia.4.a
		ai_chance = {
			factor = 40
		}
		transfer_state = 163
		transfer_state = 736
	}
}

#Italy rejects
country_event = {
	id = YO_yugoslavia.5
	title = YO_yugoslavia.5.t
	desc = YO_yugoslavia.5.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Then this means war
	option = {
		name = YO_yugoslavia.5.a
		ai_chance = {
			factor = 40
		}
		create_wargoal = {
			type = take_state_focus
			target = ITA
			generator = { 163 736 }
		}
	}
	
	#They are too powerful
	option = {
		name = YO_yugoslavia.5.a
		ai_chance = {
			factor = 40
		}
		add_war_support = -0.1
	}
}

#Demand Albanian Membership
country_event = {
	id = YO_yugoslavia.6
	title = YO_yugoslavia.6.t
	desc = YO_yugoslavia.6.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Give in
	option = {
		name = YO_yugoslavia.6.a
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.7 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	#Deny
	option = {
		name = YO_yugoslavia.6.b
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.8 }
		}
	}
}

#Albania agrees
country_event = {
	id = YO_yugoslavia.7
	title = YO_yugoslavia.7.t
	desc = YO_yugoslavia.7.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Excellent
	option = {
		name = YO_yugoslavia.7.a
		ai_chance = {
			factor = 40
		}
		annex_country = { target = ALB }
	}
}

#Albania rejects
country_event = {
	id = YO_yugoslavia.8
	title = YO_yugoslavia.8.t
	desc = YO_yugoslavia.8.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Then this means war
	option = {
		name = YO_yugoslavia.8.a
		ai_chance = {
			factor = 40
		}
		create_wargoal = {
			type = take_state_focus
			target = ALB
			generator = { 44 }
		}
	}
	
	#We can't waste time with them
	option = {
		name = YO_yugoslavia.8.a
		ai_chance = {
			factor = 40
		}
		add_war_support = -0.05
	}
}

#Demand Salonika and Thrace
country_event = {
	id = YO_yugoslavia.9
	title = YO_yugoslavia.9.t
	desc = YO_yugoslavia.9.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Give in
	option = {
		name = YO_yugoslavia.9.a
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.10 }
		}
		effect_tooltip = {
			YUG = {
				transfer_state = 184
				transfer_state = 731
			}
		}
	}

	#Deny
	option = {
		name = YO_yugoslavia.9.b
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.11 }
		}
	}
}

#Greece agrees
country_event = {
	id = YO_yugoslavia.10
	title = YO_yugoslavia.10.t
	desc = YO_yugoslavia.10.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Excellent
	option = {
		name = YO_yugoslavia.10.a
		ai_chance = {
			factor = 40
		}
		transfer_state = 184
		transfer_state = 731
	}
}

#Greece rejects
country_event = {
	id = YO_yugoslavia.11
	title = YO_yugoslavia.11.t
	desc = YO_yugoslavia.11.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Then this means war
	option = {
		name = YO_yugoslavia.11.a
		ai_chance = {
			factor = 40
		}
		create_wargoal = {
			type = take_state_focus
			target = GRE
			generator = { 184 731 }
		}
	}
	
	#They are too powerful
	option = {
		name = YO_yugoslavia.11.a
		ai_chance = {
			factor = 40
		}
		add_war_support = -0.1
	}
}

#Demand Bulgarian Membership
country_event = {
	id = YO_yugoslavia.12
	title = YO_yugoslavia.12.t
	desc = YO_yugoslavia.12.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Give in
	option = {
		name = YO_yugoslavia.12.a
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.13 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	#Deny
	option = {
		name = YO_yugoslavia.12.b
		ai_chance = {
			factor = 40
		}
		YUG = {
			country_event = { days = 1 id = YO_yugoslavia.14 }
		}
	}
}

#Bulgaria agrees
country_event = {
	id = YO_yugoslavia.13
	title = YO_yugoslavia.13.t
	desc = YO_yugoslavia.13.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Excellent
	option = {
		name = YO_yugoslavia.13.a
		ai_chance = {
			factor = 40
		}
		annex_country = { target = BUL }
	}
}

#Bulgaria rejects
country_event = {
	id = YO_yugoslavia.14
	title = YO_yugoslavia.14.t
	desc = YO_yugoslavia.14.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	fire_only_once = yes
	
	#Then this means war
	option = {
		name = YO_yugoslavia.14.a
		ai_chance = {
			factor = 40
		}
		create_wargoal = {
			type = annex_everything
			target = BUL
		}
	}
}

#Croatian Revolt
country_event = {
	id = YO_yugoslavia.15
	title = YO_yugoslavia.15.t
	desc = YO_yugoslavia.15.d
	picture = GFX_report_event_yugoslavia_partisans
	
	trigger = {
		tag = YUG
		has_idea = YUG_idea_croatian_opposition
		has_war = yes
		OR = {
			AND = {
				CRO = {
					exists = yes
					is_subject_of = YUG
				}
			}
			109 = { is_owned_and_controlled_by = YUG }
		}
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes

	option = { 
		name = YO_yugoslavia.15.a
		ai_chance = {
			factor = 40
		}
		
		hidden_effect = {
			103 = {
				add_state_modifier = {
					modifier = {
						local_manpower = 0.3
					}
				}
			}
			109 = {
				add_state_modifier = {
					modifier = {
						local_manpower = 0.3
					}
				}
			}
		}
		
		if = {
			limit = {
				has_idea = YUG_idea_croatian_opposition
			}
			remove_ideas = YUG_idea_croatian_opposition
		}
		if = {
			limit = {
				has_idea = YUG_croats_suppressed
			}
			remove_ideas = YUG_croats_suppressed
		}
		
		if = {
			limit = {
				CRO = {
					exists = no
				}
				109 = { is_owned_and_controlled_by = YUG }
			}
			
			CRO = { transfer_state = 109 }
			if = {
				limit = {
					103 = { is_owned_and_controlled_by = YUG }
				}
				CRO = { transfer_state = 103 }
			}
			
			CRO = {
				declare_war_on = {
					target = YUG
					type = annex_everything
				}
				load_oob = "CRO_YUG_independence"
			}
		}
		
		if = {
			limit = {
				CRO = {
					exists = yes
					is_subject_of = YUG
				}
			}
			
			set_autonomy = { target = CRO autonomy_state = autonomy_free }
			CRO = {
				declare_war_on = {
					target = YUG
					type = annex_everything
				}
			}
		}
		
		set_global_flag = yug_croatian_revolt
		remove_state_core = 103
		remove_state_core = 109
		
		every_unit_leader = {
			limit = {
				has_trait = YUG_croatian
			}
			set_nationality = CRO
		}
	}
}

#Croatian Revolt - is_triggered_only
country_event = {
	id = YO_yugoslavia.16
	title = YO_yugoslavia.15.t
	desc = YO_yugoslavia.15.d
	picture = GFX_report_event_yugoslavia_partisans
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = YO_yugoslavia.15.a
		ai_chance = {
			factor = 40
		}
		
		if = {
			limit = {
				has_idea = YUG_idea_croatian_opposition
			}
			remove_ideas = YUG_idea_croatian_opposition
		}
		if = {
			limit = {
				has_idea = YUG_croats_suppressed
			}
			remove_ideas = YUG_croats_suppressed
		}
		
		if = {
			limit = {
				CRO = {
					exists = no
				}
				109 = { is_owned_and_controlled_by = YUG }
			}
			
			CRO = { transfer_state = 109 }
			if = {
				limit = {
					103 = { is_owned_and_controlled_by = YUG }
				}
				CRO = { transfer_state = 103 }
			}
			
			CRO = {
				declare_war_on = {
					target = YUG
					type = annex_everything
				}
				load_oob = "CRO_YUG_independence"
			}
		}
		
		if = {
			limit = {
				CRO = {
					exists = yes
					is_subject_of = YUG
				}
			}
			
			set_autonomy = { target = CRO autonomy_state = autonomy_free }
			CRO = {
				declare_war_on = {
					target = YUG
					type = annex_everything
				}
			}
		}
		
		set_global_flag = yug_croatian_revolt
		remove_state_core = 103
		remove_state_core = 109
		
		every_unit_leader = {
			limit = {
				has_trait = YUG_croatian
			}
			set_nationality = CRO
		}
	}
}

#Field Promotions
country_event = {
	id = YO_yugoslavia.17
	title = YO_yugoslavia.17.t
	desc = YO_yugoslavia.17.d
	picture = GFX_report_event_yug_royal_army

	trigger = {
		tag = YUG
		NOT = {
			has_government = communism
		}
		date > 1937.11.30
		date < 1937.12.7
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.17.a
		ai_chance = {
			factor = 40
		}
		create_corps_commander = { #becomes general 1937 december 1.
			name = "Borivoje Mirković"
			portrait_path = "gfx/leaders/YUG/Portrait_YUG_Birivoje_Mirkovic.tga"
			traits = { YUG_serbian career_officer commando paratrooper }
			skill = 2
			attack_skill = 1
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
			id = 2015
		}
	}
}

#Field Promotions
country_event = {
	id = YO_yugoslavia.18
	title = YO_yugoslavia.17.t
	desc = YO_yugoslavia.17.d
	picture = GFX_report_event_yug_royal_army

	trigger = {
		tag = YUG
		NOT = {
			has_government = communism
		}
		date > 1938.1.1
		date < 1938.1.30
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.17.a
		ai_chance = {
			factor = 40
		}
		create_corps_commander = { #becomes general 1938 january
			name = "Dušan Simović"
			portrait_path = "gfx/leaders/YUG/Portrait_YUG_Dusan_Simovic.tga"
			traits = { YUG_serbian career_officer }
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
			id = 2016
		}
	}
}

#Boris III visits Yugoslavia
country_event = {
	id = YO_yugoslavia.19
	title = YO_yugoslavia.19.t
	desc = YO_yugoslavia.19.d
	picture = GFX_report_event_vienna_award_negotiations

	trigger = {
		tag = YUG
		date > 1936.2.1
		date < 1936.2.28
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.19.a
		ai_chance = {
			factor = 40
		}
		add_political_power = 10
		BUL = {
			add_political_power = 10
		}
	}
}

#Concordat Authorized - concordat storyline
country_event = {
	id = YO_yugoslavia.20
	title = YO_yugoslavia.20.t
	desc = YO_yugoslavia.20.d
	picture = GFX_report_event_generic_sign_treaty2

	trigger = {
		tag = YUG
		has_idea = YUG_yugoslav_regency
		OR = {
			has_country_leader =  {
				name = "Milan Stojadinović"
				ruling_only = yes
			}
			has_country_leader =  {
				name = "Bogoljub Jevtić"
				ruling_only = yes
			}
		}
		date > 1936.11.1
		date < 1936.11.30
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.20.a
		ai_chance = {
			factor = 40
		}
		add_political_power = 20
		set_country_flag = yug_regency_allows_the_concordat
	}
}

#SPC - Serbian Orthodox Church responds
country_event = {
	id = YO_yugoslavia.21
	title = YO_yugoslavia.21.t
	desc = YO_yugoslavia.21.d
	picture = GFX_report_event_finnish_letter

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1936.12.1
		date < 1936.12.15
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.21.a
		ai_chance = {
			factor = 40
		}
	}
}

#Serbian Protests of the Concordat
country_event = {
	id = YO_yugoslavia.22
	title = YO_yugoslavia.22.t
	desc = YO_yugoslavia.22.d
	picture = GFX_report_event_gathering_protest

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		NOT = {
			has_country_flag =  yug_concordat_end
		}
		date > 1937.1.1
		date < 1937.7.23
	}
	
	mean_time_to_happen = {
		days = 25
	}
	
	#fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.22.a
		ai_chance = {
			factor = 40
		}
		add_stability = -0.01
	}
}

#Disputes in the National Representitive
country_event = {
	id = YO_yugoslavia.23
	title = YO_yugoslavia.23.t
	desc = YO_yugoslavia.23.d
	picture = GFX_report_event_generic_conference

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1937.3.1
		date < 1937.3.30
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.23.a
		ai_chance = {
			factor = 40
		}
		add_political_power = -20
	}
}

#Serbian Clergy in support of Vrnava
country_event = {
	id = YO_yugoslavia.24
	title = YO_yugoslavia.24.t
	desc = YO_yugoslavia.24.d
	picture = GFX_report_event_finnish_letter

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1937.4.1
		date < 1937.4.20
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.24.a
		ai_chance = {
			factor = 40
		}
	}
}

#Serbian Clergy and opposition launch campaign against Stojadinović
country_event = {
	id = YO_yugoslavia.25
	title = YO_yugoslavia.25.t
	desc = YO_yugoslavia.25.d
	picture = GFX_report_event_finnish_letter

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1937.4.1
		date < 1937.4.20
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.25.a
		ai_chance = {
			factor = 40
		}
		add_political_power = -10
		add_stability = -0.03
	}
}

#Patriarch Varnava's health worsening
country_event = {
	id = YO_yugoslavia.26
	title = YO_yugoslavia.26.t
	desc = YO_yugoslavia.26.d
	picture = GFX_report_event_yug_patriarch_varnava

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1937.5.1
		date < 1937.5.20
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.26.a
		ai_chance = {
			factor = 40
		}
	}
}

#Bloody Walkout
country_event = {
	id = YO_yugoslavia.27
	title = YO_yugoslavia.27.t
	desc = YO_yugoslavia.27.d
	picture = GFX_report_event_yug_bloody_walkout

	trigger = {
		tag = YUG
		has_country_flag = yug_regency_allows_the_concordat
		date > 1937.7.7
		date < 1937.7.20
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.27.a
		ai_chance = {
			factor = 40
		}
		add_stability = -0.05
		hidden_effect = {
			country_event = { days = 5 id = YO_yugoslavia.28 }
		}
	}
}

#Concordat passes Parliament
country_event = {
	id = YO_yugoslavia.28
	title = YO_yugoslavia.28.t
	desc = YO_yugoslavia.28.d
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.28.a
		ai_chance = {
			factor = 40
		}
		
		#set_country_flag = yug_concordat_end
		set_country_flag = patriarch_varnava_dead
		hidden_effect = {
			country_event = { days = 17 id = YO_yugoslavia.29 }
		}
	}
}

#Concordat passes Parliament
country_event = {
	id = YO_yugoslavia.29
	title = YO_yugoslavia.29.t
	desc = YO_yugoslavia.29.d
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.29.a
		ai_chance = {
			factor = 40
		}
		
		set_country_flag = yug_concordat_end
	}
}

#
country_event = {
	id = YO_yugoslavia.1
	title = YO_yugoslavia.1.t
	desc = YO_yugoslavia.1.d
	picture = GFX_report_event_yug_regency

	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = YO_yugoslavia.2.a
		ai_chance = {
			factor = 40
		}
		
	}
	
	option = {
		name = YO_yugoslavia.2.b
		ai_chance = {
			factor = 40
		}
		
	}
}