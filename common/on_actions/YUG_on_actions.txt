on_actions = {

	on_startup = {
		effect = {
			SER = {
				remove_state_core = 45
				remove_state_core = 107
				remove_state_core = 108
				remove_state_core = 764
			}
			
			YUG = {
				remove_state_core = 736
				add_state_claim = 736
				add_state_claim = 163
			}
			
			163 = {
				add_extra_state_shared_building_slots = 3
			}
		}
	}
	
	on_daily = {
        effect = {
			every_country = {
				if = {
					limit = {
						is_in_faction_with = YUG
						YUG = {
							has_government = communism
							has_completed_focus = YUG_pan_slavic_workers_congress
						}
						NOT = { has_country_flag = pan_slavic_congress }
					}
					set_country_flag = pan_slavic_congress
				}
			}
			
			every_country = {
				if = {
					limit = {
						is_in_faction_with = YUG
						YUG = {
							has_government = communism
							has_completed_focus = YUG_pan_slavic_workers_congress
						}
						has_country_flag = pan_slavic_congress
						NOT = { has_country_flag = pan_slavic_congress_research }
					}
					set_country_flag = pan_slavic_congress_research
					add_to_tech_sharing_group = pan_slavic_research
				}
			}
		}
		effect = {
			#YUG = {
			#	
			#}
		}
	}
	
	on_government_change = {
		effect = {
			if = {
				limit = {
					original_tag = YUG
					has_completed_focus = YUG_invite_ljotic_into_government
					has_government = fascism
				}
				add_ideas = YUG_weak_grip
			}
		}
	}
	
	on_annex = {
		effect = {
			if = {
				limit = {
					ROOT = {
						tag = YUG
					}
					FROM = {
						tag = CRO
					}
					has_global_flag = yug_croatian_revolt
					NOT = {
						has_global_flag = yug_croatian_revolt_over
					}
				}
				set_global_flag = yug_croatian_revolt_over
			}
		}
	}
	
	on_capitulation = {
		effect = {
			if = {
				limit = {
					tag = YGO
				}
			}
			every_state = {
				limit = {
					is_core_of = YGO
				}
				remove_core_of = YGO
			}
		}	
	}
	
	#ROOT is subject FROM is previous overlord
	on_release_as_free = {
		effect = {
			if = {
				limit = {
					tag = CRO
				}
				YUG = {
					every_unit_leader = {
						limit = {
							has_trait = YUG_croatian
						}
						set_nationality = CRO
					}
				}
			}
			
			if = {
				limit = {
					tag = SLV
				}
				YUG = {
					every_unit_leader = {
						limit = {
							has_trait = YUG_slovenian
						}
						set_nationality = SLV
					}
				}
			}
			
			if = {
				limit = {
					tag = BOS
				}
				YUG = {
					every_unit_leader = {
						limit = {
							has_trait = YUG_bosnian
						}
						set_nationality = BOS
					}
				}
			}
			
			if = {
				limit = {
					tag = MNT
				}
				YUG = {
					every_unit_leader = {
						limit = {
							has_trait = YUG_montenegrin
						}
						set_nationality = MNT
					}
				}
			}
			
			if = {
				limit = {
					tag = MAC
				}
				YUG = {
					every_unit_leader = {
						limit = {
							has_trait = YUG_macedonian
						}
						set_nationality = MAC
					}
				}
			}
		}
	}
}